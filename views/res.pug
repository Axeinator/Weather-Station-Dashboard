html 
  head

  title= 'Weather Station'
  link(rel='stylesheet' href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" 
  crossorigin="anonymous")
  link(rel='stylesheet'
  href='https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.1/css/ion.rangeSlider.min.css')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.1/js/ion.rangeSlider.min.js')
  script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.bundle.min.js" integrity="sha512-SuxO9djzjML6b9w9/I07IWnLnQhgyYVSpHZx0JV97kGBfTIsUYlWflyuW4ypnvhBrslz1yJ3R+S14fdCWmSmSA==" crossorigin="anonymous")
  link(rel='stylesheet' href='main.css')
  script(src='graphing.js')

  body(onload='temperatureGraphSetup(); humidityGraphSetup()')

  canvas(class='graph' id='temperatureChart' width='50%' height='50vh')
  input(type="text" class="js-range-slider" id="timeRange" name="timeRange")
  canvas(class='graph' id='humidityChart' width='50%' height='50vh')

  script.
    function temperatureGraphSetup() {
      var temps = !{JSON.stringify(temps)}
      let xArray = []
      temps.forEach(obs => xArray.push(new Date(obs.time)))
      let yArray = []
      temps.forEach(obs => yArray.push(obs.temperature))
      tempChart = temperatureGraph(xArray, yArray)
    }
    function humidityGraphSetup() {
      var humidity = !{JSON.stringify(humidities)}
      console.log(humidity)
      let xArray = []
      humidity.forEach(obs => xArray.push(new Date(obs.time)))
      console.log(xArray)
      console.log(xArray.length)
      let yArray = []
      humidity.forEach(obs => yArray.push(obs.humidity))
      console.log(yArray)
      humChart = humidityGraph(xArray, yArray)
    }




script.
    var slider = document.getElementById('timeRange')
    $(".js-range-slider").ionRangeSlider({
      skin: 'big',
      type: 'double',
      min: 1,
      max: 24,
      from: 1,
      to: 24,
      min_interval: 1,
      onChange: function (data) {
          tempChart.options.scales.xAxes[0].ticks.min = Date.now() - ((24-data.from)*60*60)*1000
          tempChart.options.scales.xAxes[0].ticks.max = Date.now() - ((24-data.to)*60*60)*1000
          humChart.options.scales.xAxes[0].ticks.min = Date.now() - ((24 - data.from) * 60 * 60) * 1000
          humChart.options.scales.xAxes[0].ticks.max = Date.now() - ((24 - data.to) * 60 * 60) * 1000
          tempChart.update()
          humChart.update()

      }
    })

